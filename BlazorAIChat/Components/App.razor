<!DOCTYPE html>
<html lang="en" class="h-100">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/" />
    <link rel="stylesheet" href="app.css" />
    <link rel="stylesheet" href="BlazorAIChat.styles.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
          integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
          integrity="sha256-4RctOgogjPAdwGbwq+rxfwAmSpZhWaafcZR9btzUk18=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.2.3/dist/cosmo/bootstrap.min.css"
          integrity="sha256-axRDISYf7Hht1KhcMnfDV2nq7hD/8Q9Rxa0YlW/o3NU=" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <HeadOutlet />
    <script src="/app.js" type="module"></script>
    <script>
        function scrollToBottom(element) {
            var elem = document.getElementById(element);
            if (elem) {
                elem.scroll({
                    top: elem.scrollHeight,
                    behavior: 'smooth'
                });
            }
            return true;
        }

        function clearElementValue(element) {
            element.value = '';
        }

        function initializeAutoResize(textarea) {
            if (!textarea) return;
            
            // Set initial height
            autoResizeTextarea(textarea);
            
            // Add event listeners for various input events
            textarea.addEventListener('input', function() {
                autoResizeTextarea(textarea);
            });
            
            textarea.addEventListener('paste', function() {
                // Use setTimeout to allow paste content to be processed
                setTimeout(function() {
                    autoResizeTextarea(textarea);
                }, 10);
            });
        }

        function autoResizeTextarea(textarea) {
            if (!textarea) return;
            
            // Reset height to auto to get the correct scrollHeight
            textarea.style.height = 'auto';
            
            // Calculate the new height based on content
            var newHeight = Math.max(20, Math.min(200, textarea.scrollHeight));
            
            // Set the new height
            textarea.style.height = newHeight + 'px';
        }

        function focusElement(element) {
            if (element && element.focus) {
                // For textarea elements, ensure they're visible and ready
                if (element.tagName === 'TEXTAREA') {
                    // Scroll into view if needed
                    element.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    
                    // Small delay to ensure scrolling is complete
                    setTimeout(function() {
                        element.focus();
                        // Position cursor at the end of text
                        element.setSelectionRange(element.value.length, element.value.length);
                    }, 50);
                } else {
                    element.focus();
                }
            }
        }
    </script>
</head>

<body class="h-100">
    <Routes />
    <script src="_framework/blazor.web.js"></script>
</body>

</html>
